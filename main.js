"use strict";(self.webpackChunkBattleShip=self.webpackChunkBattleShip||[]).push([[179],{266:(e,t,n)=>{function a(){this.timesHit+=1,this.timesHit===this.length&&this.sunk()}function r(){this.isSunk=!0}const o=(e,t)=>({name:e,length:t,timesHit:0,isSunk:!1,hit:a,sunk:r});function i(){return this.board}function s(e){switch(e.name){case"carrier":this.fleet.push(o("carrier",5));break;case"battleship":this.fleet.push(o("battleship",4));break;case"cruiser":this.fleet.push(o("cruiser",3));break;case"submarine":this.fleet.push(o("submarine",3));break;default:this.fleet.push(o("destroyer",2))}}function d(e,t){let n=e.length;const[a,r]=t,o=[];if(u(n,this.board.length,r))return!1;for(let e=r;e<this.board.length;e++){if("x"!==this.board[a][e])return!1;if(o.push([a,e]),n-=1,0===n)break}return o.forEach((t=>{const[n,a]=t;this.board[n][a]=`${e.name}X`})),this.addToFleet(e),!0}function c(e,t){let n=e.length;const[a,r]=t,o=[];if(u(n,this.board.length,a))return!1;for(let e=a;e<this.board.length;e++){if("x"!==this.board[e][r])return!1;if(o.push([e,r]),n-=1,0===n)break}return o.forEach((t=>{const[n,a]=t;this.board[n][a]=`${e.name}Y`})),this.addToFleet(e),!0}function u(e,t,n){return e>t-n}function l(e){const[t,n]=e;this.recordHit(t,n)}function b(e,t){switch(this.board[e][t]){case"carrier":this.getShip("carrier").hit(),this.board[e][t]="hit";break;case"battleship":this.getShip("battleship").hit(),this.board[e][t]="hit";break;case"cruiser":this.getShip("cruiser").hit(),this.board[e][t]="hit";break;case"submarine":this.getShip("submarine").hit(),this.board[e][t]="hit";break;case"destroyer":this.getShip("destroyer").hit(),this.board[e][t]="hit";break;default:this.board[e][t]="missed"}}function m(e){return this.fleet.filter((t=>t.name===e))[0]}function h(){return 5===this.fleet.filter((e=>!0===e.isSunk)).length}const p=()=>({board:new Array(10).fill("x").map((()=>new Array(10).fill("x"))),fleet:[],getBoard:i,addToFleet:s,placeX:d,placeY:c,receiveAttack:l,recordHit:b,getShip:m,isEveryShipSunk:h});function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(this.isEmptyField(e)||this.isCpu)&&(this.isCpu?this.cpuPlay():this.board.receiveAttack(e),this.turn+=1)}function f(e){if(!e.length)return!1;const[t,n]=e;return"missed"!==this.board.board[t][n]&&"hit"!==this.board.board[t][n]}function y(){let e=!0;for(;e;){const t=k(),n=k();this.isEmptyField([t,n])&&(e=!1,this.board.receiveAttack([t,n]))}}function k(){return Math.floor(10*Math.random())}const C=function(e){return{name:e,isCpu:arguments.length>1&&void 0!==arguments[1]&&arguments[1],board:p(),turn:0,playTurn:g,cpuPlay:y,isEmptyField:f}},$=function(e){return{combatant:C(e),cpu:C("cpu",!0)}},E=function(){const e=document.getElementById("app"),t=document.createElement("section");t.className="pregame-card",function(e){const t=document.createElement("h1");t.textContent="BATTLESHIP",e.appendChild(t)}(t),function(e){const t=document.createElement("form");t.className="name-form";const n=document.createElement("input");n.type="text",n.id="name-input",n.className="name-input",n.placeholder="Captain name";const a=document.createElement("span");a.className="input-border",t.appendChild(n),t.appendChild(a),e.appendChild(t)}(t),function(e){const t=document.createElement("button");t.id="play-now-button",t.className="play-now-button";const n=document.createElement("span");n.className="text-play-button",n.textContent="ENTER COMBAT",t.appendChild(n),e.appendChild(t)}(t),e.appendChild(t)},S=n.p+"img/carrierXe896cbb399e2e2c162fb.svg",v=n.p+"img/battleshipXf6a210183a3350ca6b22.svg",N=n.p+"img/cruiserX9cdd059f15dbd7530459.svg",I=n.p+"img/submarineXeb75cf38d99b61ef7114.svg",x=n.p+"img/destroyerX34a2ee66b482ab0c853d.svg",j={deleteAppContent:function(){document.getElementById("app").replaceChildren("")},loadHeader:function(e,t){const n=document.createElement("header");n.classList.add("header",`${t}`);const a=document.createElement("h1");a.textContent="BATTLESHIP",n.appendChild(a),e.appendChild(n)},loadBoard:function(e,t){const n=document.createElement("div");n.id=`board-${t}`,n.classList.add("board",t),function(e){const t=document.createElement("div");t.classList="letter-container",["A","B","C","D","E","F","G","H","I","J"].forEach((e=>{const n=document.createElement("div");n.className="letter",n.textContent=e,t.appendChild(n)})),e.appendChild(t)}(n),function(e){const t=document.createElement("div");t.id="number-container",t.classList="number-container",[1,2,3,4,5,6,7,8,9,10].forEach((e=>{const n=document.createElement("div");n.classList="number",n.textContent=e,t.appendChild(n)})),e.appendChild(t)}(n),function(e){const t=document.createElement("div");t.id="field-container",t.className="field-container";for(let e=0;e<10;e+=1)for(let e=0;e<10;e+=1){const e=document.createElement("div");e.className="field",t.appendChild(e)}e.appendChild(t)}(n),e.appendChild(n)}},P=n.p+"img/tipadebf1746ff09fbbfdc0.svg",B=(n.p,{loadSetupContent:function(){const e=document.getElementById("app");e.classList.add("setup");const t=document.createElement("div");t.id="setup-container",t.className="setup-container",j.loadHeader(e,"setup"),function(e){const t=document.createElement("section");t.className="tip-setup";const n=document.createElement("img");n.className="tip-image",n.src=P;const a=document.createElement("div");a.className="tip-text",a.textContent="Click on the axis button to change the placement axis, drag and drop the ship on the board.",t.appendChild(n),t.appendChild(a),e.appendChild(t)}(e);const n=document.createElement("div");n.className="board-fleet-container",j.loadBoard(n,"setup"),function(e){const t=document.createElement("section");t.id="fleet-setup",t.className="fleet-setup";["carrier","battleship","cruiser","submarine","destroyer"].forEach((e=>{const n=function(e){const t=document.createElement("button"),n=document.createElement("img"),a=document.createElement("p");switch(t.className="ship-card",n.className="ship-image",a.className="ship-name",e){case"carrier":t.dataset.shipName="carrier",t.dataset.shipLength=5,n.src=S,a.textContent="Carrier";break;case"battleship":t.dataset.shipName="battleship",t.dataset.shipLength=4,n.src=v,a.textContent="Battleship";break;case"cruiser":t.dataset.shipName="cruiser",t.dataset.shipLength=3,n.src=N,a.textContent="Cruiser";break;case"submarine":t.dataset.shipName="submarine",t.dataset.shipLength=3,n.src=I,a.textContent="Submarine";break;case"destroyer":t.dataset.shipName="destroyer",t.dataset.shipLength=2,n.src=x,a.textContent="Destroyer"}return t.appendChild(n),t.appendChild(a),t}(e);n.draggable="true",t.appendChild(n)})),e.appendChild(t)}(n),t.appendChild(n),e.appendChild(t),function(e){const t=document.createElement("section");t.id="reset-continue-section",t.className="reset-continue-section";const n=document.createElement("button");n.className="reset-button",n.textContent="Reset";const a=document.createElement("button");a.className="continue-button",a.textContent="Confirm",t.appendChild(n),t.appendChild(a),e.appendChild(t)}(e),function(e){const t=document.createElement("div");t.className="axis-button-container";const n=document.createElement("button");n.id="x-button",n.className="axis-button",n.textContent="X axis";const a=document.createElement("button");a.id="y-button",a.className="axis-button",a.textContent="Y axis",t.appendChild(n),t.appendChild(a),e.appendChild(t)}(document.getElementById("board-setup"))}}),z=n.p+"img/carrierY78addfc73a2fb533711b.svg",L=n.p+"img/battleshipYaaf8639bd8f3a8909f83.svg",X=n.p+"img/cruiserY4f21ef46b2df37376646.svg",Y=n.p+"img/submarineY4ea71cb1e808b7c324a8.svg",w=n.p+"img/destroyerY419fbbbc2ba456490ea9.svg",A={loadShipOnBoard:function(e,t){switch(e){case"carrierX":if(t.found.carrier)return;!function(e){e.board.style.backgroundImage+=""===e.board.style.backgroundImage?`url(${S})`:`, url(${S})`,e.board.style.backgroundSize+=""===e.board.style.backgroundSize?"50% 10%":", 50% 10%";const t=`${20*e.j}% ${11*e.i+e.i/10}%`;e.board.style.backgroundPosition+=""===e.board.style.backgroundPosition?`${t}`:`, ${t}`,e.found.carrier=!0}(t);break;case"carrierY":if(t.found.carrier)return;!function(e){e.board.style.backgroundImage+=""===e.board.style.backgroundImage?`url(${z})`:`, url(${z})`,e.board.style.backgroundSize+=""===e.board.style.backgroundSize?"10% 50%":", 10% 50%";const t=`${11*e.j+e.j/10}% ${20*e.i}%`;e.board.style.backgroundPosition+=""===e.board.style.backgroundPosition?`${t}`:`, ${t}`,e.found.carrier=!0}(t);break;case"battleshipX":if(t.found.battleship)return;!function(e){e.board.style.backgroundImage+=""===e.board.style.backgroundImage?`url(${v})`:`, url(${v})`,e.board.style.backgroundSize+=""===e.board.style.backgroundSize?"40% 9.5%":", 40% 9.5%";const t=`${17.5*e.j-(e.j/2+e.j/5)}% ${11*e.i+e.i/10}%`;e.board.style.backgroundPosition+=""===e.board.style.backgroundPosition?`${t}`:`, ${t}`,e.found.battleship=!0}(t);break;case"battleshipY":if(t.found.battleship)return;!function(e){e.board.style.backgroundImage+=""===e.board.style.backgroundImage?`url(${L})`:`, url(${L})`,e.board.style.backgroundSize+=""===e.board.style.backgroundSize?"9.5% 40%":", 9.5% 40%";const t=`${11*e.j+e.j/10+.5}% ${17.5*e.i-(e.i/2+e.i/5)}%`;e.board.style.backgroundPosition+=""===e.board.style.backgroundPosition?`${t}`:`, ${t}`,e.found.battleship=!0}(t);break;case"cruiserX":if(t.found.cruiser)return;!function(e){e.board.style.backgroundImage+=""===e.board.style.backgroundImage?`url(${N})`:`, url(${N})`,e.board.style.backgroundSize+=""===e.board.style.backgroundSize?"30% 10%":", 30% 10%";const t=`${15*e.j-(e.j/2+e.j/5)}% ${11*e.i+e.i/10}%`;e.board.style.backgroundPosition+=""===e.board.style.backgroundPosition?`${t}`:`, ${t}`,e.found.cruiser=!0}(t);break;case"cruiserY":if(t.found.cruiser)return;!function(e){e.board.style.backgroundImage+=""===e.board.style.backgroundImage?`url(${X})`:`, url(${X})`,e.board.style.backgroundSize+=""===e.board.style.backgroundSize?"10% 30%":", 10% 30%";const t=`${11*e.j+e.j/10}% ${15*e.i-(e.i/2+e.i/5)}%`;e.board.style.backgroundPosition+=""===e.board.style.backgroundPosition?`${t}`:`, ${t}`,e.found.cruiser=!0}(t);break;case"submarineX":if(t.found.submarine)return;!function(e){e.board.style.backgroundImage+=""===e.board.style.backgroundImage?`url(${I})`:`, url(${I})`,e.board.style.backgroundSize+=""===e.board.style.backgroundSize?"30% 10%":", 30% 10%";const t=`${15*e.j-(e.j/2+e.j/5)}% ${11*e.i+e.i/10+1}%`;e.board.style.backgroundPosition+=""===e.board.style.backgroundPosition?`${t}`:`, ${t}`,e.found.submarine=!0}(t);break;case"submarineY":if(t.found.submarine)return;!function(e){e.board.style.backgroundImage+=""===e.board.style.backgroundImage?`url(${Y})`:`, url(${Y})`,e.board.style.backgroundSize+=""===e.board.style.backgroundSize?"10% 30%":", 10% 30%";const t=`${11*e.j+e.j/10}% ${15*e.i-(e.i/2+e.i/5)}%`;e.board.style.backgroundPosition+=""===e.board.style.backgroundPosition?`${t}`:`, ${t}`,e.found.submarine=!0}(t);break;case"destroyerX":if(t.found.destroyer)return;!function(e){e.board.style.backgroundImage+=""===e.board.style.backgroundImage?`url(${x})`:`, url(${x})`,e.board.style.backgroundSize+=""===e.board.style.backgroundSize?"20% 9%":", 20% 9%";const t=`${13.25*e.j-(e.j/2+e.j/5)}% ${11*e.i+e.i/10}%`;e.board.style.backgroundPosition+=""===e.board.style.backgroundPosition?`${t}`:`, ${t}`,e.found.destroyer=!0}(t);break;case"destroyerY":if(t.found.destroyer)return;!function(e){e.board.style.backgroundImage+=""===e.board.style.backgroundImage?`url(${w})`:`, url(${w})`,e.board.style.backgroundSize+=""===e.board.style.backgroundSize?"9% 20%":", 9% 20%";const t=`${11*e.j+e.j/10}% ${13.25*e.i-(e.i/2+e.i/5)}%`;e.board.style.backgroundPosition+=""===e.board.style.backgroundPosition?`${t}`:`, ${t}`,e.found.destroyer=!0}(t)}}};(()=>{const e=$(),t={carrier:!1,battleship:!1},n={name:"",length:""};function a(){j.deleteAppContent(),B.loadSetupContent(),document.getElementById("fleet-setup").childNodes.forEach((e=>{e.addEventListener("dragstart",(()=>{n.name=e.dataset.shipName,n.length=e.dataset.shipLength}))})),document.getElementById("field-container").childNodes.forEach(((a,r)=>{a.addEventListener("dragover",(e=>{e.preventDefault()})),a.addEventListener("drop",(()=>{const a=parseInt(r/10,10),i=r%10;console.log(a,i);const s=e.combatant.board,d=s.placeX(o(n.name,n.length),[a,i]);if(console.log(d),function(){const n=document.getElementById("field-container"),a=e.combatant.board.getBoard();for(let e=0;e<a.length;e+=1)for(let r=0;r<a[0].length;r+=1)"x"!==a[e][r]&&A.loadShipOnBoard(a[e][r],{found:t,board:n,i:e,j:r})}(),d){const e=document.querySelector(`[data-ship-name=${n.name}]`);console.log(e),e.style.visibility="hidden"}console.log(s.getBoard())}))}))}return{loadContent:function(){E(),document.getElementById("play-now-button").addEventListener("click",a)}}})().loadContent()}},e=>{e(e.s=266)}]);